#!/bin/bash

#To validate 4096 char works correctly

docker build -t largevartest -f Dockerfile-alpine .

i=0
time dgoss run -e TEST_LONG_VAR=largevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargevarlargeva_extralargevar largevartest || ((i++))

exit $i